---

- name: get files
  find:
    age: -2h
    file_type: any
    paths: "{{path1}}{{ num }}{{path2}}{{ num }}"
  register: find_output

- debug:
    msg: "{{path1}}{{ num }}{{path2}}{{ num }}"
    verbosity: 2

- name: create files list
  set_fact:
    files: '{{ files + [item.path] }}'
  with_items: "{{ find_output.files}}"

- debug:
    verbosity: 2
    var: files

- name: fetch files
  fetch:
    src: "{{ item }}"
    dest: "../logs/{{ inventory_hostname }}/"
    flat: yes
  register: fetch_output
  with_items: "{{ files }}"
  when: files|length > 0

- debug:
    verbosity: 2
    var: fetch_output